\documentclass[12pts]{report}

\usepackage[margin=1in]{geometry}
\usepackage[usenames, dvipsnames]{color}
\usepackage{setspace}
\usepackage{graphicx}
\doublespacing
\usepackage{fancyvrb}
\usepackage{varwidth}
\usepackage{verbatim}
\usepackage{multicol}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{parskip}                    % This packages sets the spacing between two paragraphs
\setlength{\parskip}{.5\baselineskip}   % Define spacing between two paragraphs

\setlength{\parindent}{0pt}
\setlength{\columnseprule}{1pt}

\pagestyle{fancy}
% Title Page
\title{DIME DYNAMIC DOCUMENTATION TRAINING }
\author{Luiza Andrade \& Mrijan Rimal} 
\date{\today}

\fancyfoot{}
%\fancyhead[C]{\thepage}
\cfoot{\small{For the most recent version of the file, please check \url{https://github.com/worldbank/DIME-LaTeX-Templates/} } \\ \thepage}

\makeatother


\begin{document}
	
	
	\makeatletter
	\begin{titlepage}
		\begin{center}
			\includegraphics[width=0.3\linewidth]{../img/i2i.png}\\[10ex]
			{\LARGE \bfseries  \@title }\\[2ex] 
			{\Large  \@author}\\[20ex] 
			{\large \@date}
		\end{center}
	\end{titlepage}
	\makeatother
	
\section*{Introduction}
This exercise introduces some intermediate concepts in {\LaTeX} which are useful for everyday day to day life. 

\section*{Exercise 1. Exporting tables}
Open \textcolor{red}{Export tables and images.do} and change the paths on the first section of the do-file so that it matches the folder structure you just created. Then run the do-file. This will export a few tables and graphs to the Raw folder that will be used in the following exercises. If you want to take a step back and review how to export tables and images from Stata, the a look at the folder called "Exercise Stata - How to export tables and graph from Stata to LaTeX".

\section*{Intermediate {\LaTeX} Exercises}
\subsection*{Adding Sections to your document}
{\LaTeX} automatically formats the document and different section headers and subheaders according to predefined formats. It also automatically creates beautiful \texttt{Table of Contents} based on what has been defined as sections and subsections. 

Sections can be created using \verb|\section{title}| command. {\LaTeX} automatically numbers all the sections in whichever order you put them. 
\subsection*{Adding Table of Contents}

\subsection*{Referring to your tables in a document}

\subsection*{Line Spacing}

Now that you have created sections in your document, and added text, you might want to change the spacing between lines. This can be achieved using the \texttt{setspace} package. 

The steps to change line spacing are as follows:
\begin{itemize}
	\item Before \verb|\begin{document}|, declare the package you will be using. In this case, \verb|\usepackage{setspace}|. This package controls the line spacing in a {\LaTeX} document.
	\item After using the \texttt{setspace} package, you should now specify line spacing which are as follows:
	\begin{description}
		\item[singlespacing] This option specifies the document to use one line spacing.
		\item[doublespacing] This option specifies the document to use two line spacing.
		\item[onehalfspacing] This option specifies the document to use one and a half line spacing. 
	\end{description}
\end{itemize}
\begin{Verbatim}[commandchars=+\(\)]
+color(CornflowerBlue)\usepackage{setspace}
+color(CornflowerBlue)\doublespacing
+color(Gray)%\onehalfspacing
+color(Gray)%\singlespacing
\begin{document}
\maketitle
\listoftables
\listoffigures
\section{Introduction}
This is the introduction paragraph
\end{Verbatim}
The \texttt{setspace} package can also be used to specify more particular linespacing i.e. 1.7 lines, 2.4 lines etc using the \texttt{setstretch} feature but that will be covered in another documents. 

\section*{Making a Dynamic Document}

Here, we will produce a dynamic document. Please only do this do \textbf{if} you have completed up to \texttt{Part 5, Task 2} of the exercise. 

\begin{enumerate}
	\item Save the pdf created up to now in a separate location from your \texttt{.tex} file. 
	\item Generate a new treatment for your dataset by dropping some observations, using a different metric to create treatments, etc. 
	\item Rerun the do-file with the new treatment. Make sure that the tables and graphs you created earlier are overwritten. 
	\item Now, open the earlier created {\LaTeX} file and press \textit{Build and Compile} under the \textit{Tools}.
	\item Now if you compare the pdf file you have just generated with the one you saved earlier, you will find that the tables would have updated automatically. 
\end{enumerate}

\section*{Challenge: Using a do-file to edit a .tex file after exporting it}
\textit{Note: This is an advanced exercise and you don't have to feel compelled to finish it. This is also best done after finishing all the other exercises in the GitHub repository.}
 
During this part of the exercise, you will learn how to use commands in Stata to format your tables. While tables exported from Stata to {\LaTeX} are generally very nice, sometimes they need to be tweaked a little to make them look nicer. So, in this exercise, you'll use the \texttt{filefilter} command in Stata to make small changes to the files exported by Stata. 

This exercise requires more familiarity with {\LaTeX} than the previous. Don't worry if you can't complete it. 

\begin{description}
	\item[Task 1:] Run the initial code for exercise 6 in the \textcolor{red}{Add path and name of do-file} do-file. This will create a table with sample sizes for control and treatment groups across regions and in the whole sample. Add this table to the .tex file you created in the previous exercises. How does that look?
	\item[Task 2:] Open the \textcolor{red}{Add path and name of tex file} .tex file created by Stata. Can you identify the source of the extra spacing?
	\item[Task 3:] Use the \texttt{filefilter} command in Stata to filter out the lines or characters in the fragmented file that create the extra spacing. Import the new .tex file and check how it looks.
	\item[Task 4:] Repeat task 3 if necessary.
\end{description}


\newpage
\end{document}          
